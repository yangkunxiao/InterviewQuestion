### 从浏览器输入URL到页面加载出来经历了什么
- 当地址栏中输入URL且按下enter之后，浏览器会重新开启一个http请求线程
- 浏览器根据输入的URL，开始解析URL：将URL解析成对应的IP地址。
    - 首先，浏览器会查询浏览器本身是否存在缓存，如果存在则直接使用缓存，否则继续查询系统是否存在缓存、代理服务器是否存在缓存等等，一直找到DNS服务器，找到对应的IP地址。
    - DNS是应用层的协议，用于将用户提供的URL解析为对应的IP地址
- 找到IP地址之后，浏览器开始向该主机发起HTTP请求：
    - HTTPS协议：
        - 先进行TSL握手：
            - 客户端向服务器端发送请求简历SSL链接，并发送一个随机数和客户端自身支持的加密算法。
            - 服务器端接收到请求之后，从中选取一个加密算法，并回复一个随机数和自己的签名证书。
            - 客户端接收到服务器端发送的信息之后，首先会验证证书是否合法，如果合法，则会在地址栏中显示小锁的标志。然后浏览器会再次生成一个随机数，使用证书中包含的公钥以及指定的加密算法进行加密，然后发送给服务器端
            - 服务器端利用已知的加密方式和自己的私钥进行解密，获取信息。然后利用浏览器相同的规则生成session key，使用session key解密浏览器发来的信息，验证是否和浏览器发来的一样，如果一样则验证通过。使用session key加密一段信息发送给浏览器。
            - 浏览器进行解密并计算握手的信息，如果验证通过，则握手结束。
    - 三次握手：客户端发起TCP/IP请求。TCP将HTTP长报文划分为短报文，通过三次握手与服务器建立可靠链接。
        - 第一次握手：建立链接时，客户端发送请求标志：SYN=1，初始序列号：seq=x。
        - 第二次握手：服务器接收到客户端的请求，响应客户端，发送确认请求ACK=1，自己的序列号seq=y
        - 第三次握手：客户端接收到服务器端的信息，发送确认标志ACK=1，自己的序列号seq=x+1.

    - 四次挥手：
        - 客户端发送请求断开标志：FIN=1，序列号seq=u，且自身进入等待关闭状态CLOSE-WAIT-1
        - 服务器端接受到客户端的信息之后，发送确认标志ACK=1，序列号seq=v
        - 客户端接受到服务器的信息之后，进入等待关闭状态CLOSE-WAIT-2.服务器发送断开信号，FIN=1，seq=w。且自己进入LAST-ACK状态。
        - 客户端接收到服务器端的断开信号之后，发送确认信息：ACK=1，序列号seq=w+1.客户端进入TIME-WAIT状态，等待2MSL之后，进入CLOSE状态。服务器端接收到信号之后，进入CLOSE状态。

- 负载均衡
    - 在大型项目中，它的并发流量可能会很大，如果只有一台服务器，可能是吃不消的。所以一般在服务器端会有一个集群，当服务器器接收到请求之后，会选择一个当前压力最小的服务器，将用户的请求指向该服务器。
    - 当请求到达服务器之后，会进入后台的逻辑，可能会经过权限验证、安全拦截、跨域处理等。经过一系列的处理之后，会返回一段信息给浏览器端，完成HTTP请求。

- 后台和前端的交互
    - 后台和前端进行交互的时候，http报文是最重要的载体。
    - http报文一般包含通用其请求头部、请求头/响应头部、请求体/响应体
    - 通用的请求头有：
        - request url：统一资源定位符
        - request method：请求方法
        - status code：请求返回的状态码
        - remote address：请求的远程地址
    - 请求头部：
        - accept：浏览器接受的类型。
        - accept-encoding：浏览器接受的压缩类型
        - content-type：客户端发出的实体内容的类型
        - cache-control：指定请求和响应的缓存机制，有一下值：
            - no-cache：缓存必须和服务端进行对比
            - no-store：不使用缓存
            - max-age=t：设置t秒之后缓存失效
            - public：允许代理服务器和客户端都缓存
            - private：只允许客户端缓存
        - expirse：强制缓存，设置缓存失效的时间，使用的是服务器端时间。http1.0。
        - max-age：强制缓存，设置缓存失效时间，使用的是本地时间。http1.1。
        - if-modified-since：协商缓存，设置缓存失效的时间，使用的本地时间，精确到s，对应last-modified。http1.0
        - if-none-match：协商缓存，用于匹配服务端缓存是否失效，对应e-tag。http1.1
        - cookie
        - origin：请求发起的地址
        - referer：页面来源
        - user-agent：浏览器信息

    - 响应头部：
        - access-control-allow-mthods：服务器允许的请求方式
        - content-type：服务器返回的响应实体类型
        - date：数据从服务器返回的时间
        - cache-control：强制缓存
        - max-age：告诉浏览器缓存时间
        - etag：服务器端文件的指纹
        - keep-alive：链接类型
        - server：服务器的信息

    - http2.0:
        - 